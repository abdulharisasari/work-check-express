# WorkCheck Backend

Aplikasi backend untuk absensi, manajemen toko, produk, dan promo menggunakan **Express.js** & **PostgreSQL**.

## 📂 Struktur Folder

```
workcheck-be/
├─ src/
│  ├─ config/         # Konfigurasi database
│  ├─ controllers/    # Logic request/response
│  ├─ middlewares/    # Middleware (auth, dll)
│  ├─ routes/         # Routing endpoint API
│  ├─ app.js          # Inisialisasi express
│  └─ server.js       # Entry point
├─ documentation/
│  └─ db_init.sql     # Query pembuatan database & tabel
├─ .env               # Environment variables
├─ package.json
└─ README.md
```

## 🚀 Instalasi

1. **Clone repository**
   ```bash
   git clone https://github.com/username/workcheck-be.git
   cd workcheck-be
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Setup database PostgreSQL**
   - Buat database `db_workcheck`.
   - Jalankan query dari `documentation/db_init.sql`.

4. **Konfigurasi environment**
   - Buat file `.env` di root project:

     ```env
     PORT=8000
     JWT_SECRET=rahasia123
     DB_USER=postgres
     DB_HOST=localhost
     DB_NAME=db_workcheck
     DB_PASS=admin
     DB_PORT=5432
     ```

## ▶️ Menjalankan Server

```bash
npm run dev
```

Server berjalan di:  
👉 `http://localhost:8000`

## 🔑 Autentikasi

- Semua endpoint (kecuali **login**) membutuhkan **JWT Token** di header:

  ```
  Authorization: Bearer <token>
  ```

## 📌 Endpoint Utama

- **Auth**
  - `POST /v1/auth/login` → Login user

- **Absensi**
  - `GET /v1/report/attendance` → List absensi
  - `POST /v1/report/attendance` → Input absensi/izin

- **Toko**
  - `GET /v1/stores` → List toko
  - `GET /v1/stores/:id` → Detail toko
  - `GET /v1/stores/:id/products` → List produk di toko
  - `POST /v1/stores/:id/products/batch` → Update produk toko

- **Promo**
  - `POST /v1/stores/:id/promos` → Tambah promo toko
  - `GET /v1/stores/:id/promos` → List promo toko

## 🗄️ Database

Struktur database & tabel tersedia di:  
📄 `documentation/db_init.sql`
