# WorkCheck Backend

Aplikasi backend untuk absensi, manajemen toko, produk, dan promo menggunakan **Express.js** & **PostgreSQL**.

## ğŸ“‚ Struktur Folder

```
workcheck-be/
â”œâ”€ src/
â”‚  â”œâ”€ config/         # Konfigurasi database
â”‚  â”œâ”€ controllers/    # Logic request/response
â”‚  â”œâ”€ middlewares/    # Middleware (auth, dll)
â”‚  â”œâ”€ routes/         # Routing endpoint API
â”‚  â”œâ”€ app.js          # Inisialisasi express
â”‚  â””â”€ server.js       # Entry point
â”œâ”€ documentation/
â”‚  â””â”€ db_init.sql     # Query pembuatan database & tabel
â”œâ”€ .env               # Environment variables
â”œâ”€ package.json
â””â”€ README.md
```

## ğŸš€ Instalasi

1. **Clone repository**
   ```bash
   git clone https://github.com/username/workcheck-be.git
   cd workcheck-be
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Setup database PostgreSQL**
   - Buat database `db_workcheck`.
   - Jalankan query dari `documentation/db_init.sql`.

4. **Konfigurasi environment**
   - Buat file `.env` di root project:

     ```env
     PORT=8000
     JWT_SECRET=rahasia123
     DB_USER=postgres
     DB_HOST=localhost
     DB_NAME=db_workcheck
     DB_PASS=admin
     DB_PORT=5432
     ```

## â–¶ï¸ Menjalankan Server

```bash
npm run dev
```

Server berjalan di:  
ğŸ‘‰ `http://localhost:8000`

## ğŸ”‘ Autentikasi

- Semua endpoint (kecuali **login**) membutuhkan **JWT Token** di header:

  ```
  Authorization: Bearer <token>
  ```

## ğŸ“Œ Endpoint Utama

- **Auth**
  - `POST /v1/auth/login` â†’ Login user

- **Absensi**
  - `GET /v1/report/attendance` â†’ List absensi
  - `POST /v1/report/attendance` â†’ Input absensi/izin

- **Toko**
  - `GET /v1/stores` â†’ List toko
  - `GET /v1/stores/:id` â†’ Detail toko
  - `GET /v1/stores/:id/products` â†’ List produk di toko
  - `POST /v1/stores/:id/products/batch` â†’ Update produk toko

- **Promo**
  - `POST /v1/stores/:id/promos` â†’ Tambah promo toko
  - `GET /v1/stores/:id/promos` â†’ List promo toko

## ğŸ—„ï¸ Database

Struktur database & tabel tersedia di:  
ğŸ“„ `documentation/db_init.sql`
